# Local Development Configuration Template
# Copy this file to wrangler.local.toml and fill in your values
# Note: wrangler.local.toml is ignored by git to prevent credential leaks

name = "akamoney-api"
main = "src/index.ts"
compatibility_date = "2024-12-17"
node_compat = true

# Workers configuration
workers_dev = true

# D1 Database binding
# Get your database ID by running: wrangler d1 create akamoney-clicks
# Or find it in the Cloudflare dashboard under Workers & Pages > D1
[[d1_databases]]
binding = "DB"
database_name = "akamoney-clicks"
database_id = "YOUR_DATABASE_ID_HERE"

# R2 Storage binding (used when STORAGE_PROVIDER = "r2")
# Create bucket with: wrangler r2 bucket create akamoney-storage
[[r2_buckets]]
binding = "BUCKET"
bucket_name = "akamoney-storage"
preview_bucket_name = "akamoney-storage-preview"

# Environment variables (secrets should be set via wrangler secret put)
[vars]
ENVIRONMENT = "development"
JWT_EXPIRES_IN = "7d"

# Storage provider configuration
# Options: "r2" (default) or "azure"
STORAGE_PROVIDER = "r2"

# R2 public URL (optional, for generating public URLs)
# R2_PUBLIC_URL = "https://storage.your-domain.com"

# Azure Storage configuration (used when STORAGE_PROVIDER = "azure")
# Set these via wrangler secret put for production:
# AZURE_STORAGE_ACCOUNT = "your-storage-account"
# AZURE_STORAGE_CONTAINER = "your-container"
# AZURE_STORAGE_SAS_TOKEN = "your-sas-token"
# AZURE_PUBLIC_URL = "https://your-storage-account.blob.core.windows.net/your-container"

# Routes for production
# [[routes]]
# pattern = "aka.money/*"
# zone_name = "aka.money"

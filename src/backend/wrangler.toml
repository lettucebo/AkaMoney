name = "akamoney-api"
main = "src/index.ts"
compatibility_date = "2024-12-17"
node_compat = true

# Workers configuration
workers_dev = true

# D1 Database binding
# IMPORTANT: Set database_id to your actual D1 database ID *before* deployment
# Get your database ID by running: wrangler d1 create akamoney
# Or find it in the Cloudflare dashboard under Workers & Pages > D1
# This will fail deployment if not set - intentionally left empty for safety
[[d1_databases]]
binding = "DB"
database_name = "akamoney"
database_id = ""

# R2 Storage binding
[[r2_buckets]]
binding = "BUCKET"
bucket_name = "akamoney-storage"
preview_bucket_name = "akamoney-storage-preview"

# Environment variables (secrets should be set via wrangler secret put)
[vars]
ENVIRONMENT = "development"
JWT_EXPIRES_IN = "7d"

# Routes for production
# [[routes]]
# pattern = "aka.money/*"
# zone_name = "aka.money"
